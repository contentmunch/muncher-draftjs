"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ToggleCodeControl = void 0;

var _react = _interopRequireDefault(require("react"));

var _draftJs = require("draft-js");

var _HtmlUtilities = require("../../utilities/html/HtmlUtilities.js");

var _muncherUi = require("@contentmunch/muncher-ui");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ToggleCodeControl = function ToggleCodeControl(_ref) {
  var isCodeView = _ref.isCodeView,
      setIsCodeView = _ref.setIsCodeView,
      html = _ref.html,
      editorState = _ref.editorState,
      setEditorState = _ref.setEditorState;

  var toggleCodeView = function toggleCodeView() {
    if (isCodeView) {
      setEditorState(_draftJs.EditorState.push(editorState, (0, _HtmlUtilities.convertHtmlToContent)(html), 'change-block-data'));
    }

    if (setIsCodeView) {
      setIsCodeView(!isCodeView);
    }
  };

  return /*#__PURE__*/_react.default.createElement(_muncherUi.Button, {
    title: isCodeView ? "Editor View" : "Html View",
    onMouseDown: toggleCodeView,
    size: "small"
  }, /*#__PURE__*/_react.default.createElement(_muncherUi.Icon, {
    name: isCodeView ? 'edit' : 'code'
  }));
};

exports.ToggleCodeControl = ToggleCodeControl;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb250cm9scy9jb2RlL1RvZ2dsZUNvZGVDb250cm9sLnRzeCJdLCJuYW1lcyI6WyJUb2dnbGVDb2RlQ29udHJvbCIsImlzQ29kZVZpZXciLCJzZXRJc0NvZGVWaWV3IiwiaHRtbCIsImVkaXRvclN0YXRlIiwic2V0RWRpdG9yU3RhdGUiLCJ0b2dnbGVDb2RlVmlldyIsIkVkaXRvclN0YXRlIiwicHVzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBR08sSUFBTUEsaUJBQW1ELEdBQUcsU0FBdERBLGlCQUFzRCxPQUl6RDtBQUFBLE1BRkZDLFVBRUUsUUFGRkEsVUFFRTtBQUFBLE1BRlVDLGFBRVYsUUFGVUEsYUFFVjtBQUFBLE1BREZDLElBQ0UsUUFERkEsSUFDRTtBQUFBLE1BRElDLFdBQ0osUUFESUEsV0FDSjtBQUFBLE1BRGlCQyxjQUNqQixRQURpQkEsY0FDakI7O0FBQ04sTUFBTUMsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixHQUFNO0FBQ3pCLFFBQUlMLFVBQUosRUFBZ0I7QUFDWkksTUFBQUEsY0FBYyxDQUFDRSxxQkFBWUMsSUFBWixDQUFpQkosV0FBakIsRUFBOEIseUNBQXFCRCxJQUFyQixDQUE5QixFQUEwRCxtQkFBMUQsQ0FBRCxDQUFkO0FBQ0g7O0FBQ0QsUUFBSUQsYUFBSixFQUFtQjtBQUNmQSxNQUFBQSxhQUFhLENBQUMsQ0FBQ0QsVUFBRixDQUFiO0FBQ0g7QUFDSixHQVBEOztBQVFBLHNCQUNJLDZCQUFDLGlCQUFEO0FBQVEsSUFBQSxLQUFLLEVBQUVBLFVBQVUsR0FBRyxhQUFILEdBQW1CLFdBQTVDO0FBQXlELElBQUEsV0FBVyxFQUFFSyxjQUF0RTtBQUFzRixJQUFBLElBQUksRUFBQztBQUEzRixrQkFDSSw2QkFBQyxlQUFEO0FBQU0sSUFBQSxJQUFJLEVBQUVMLFVBQVUsR0FBRyxNQUFILEdBQVk7QUFBbEMsSUFESixDQURKO0FBS0gsQ0FsQk0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge0VkaXRvclN0YXRlfSBmcm9tIFwiZHJhZnQtanNcIjtcbmltcG9ydCB7Y29udmVydEh0bWxUb0NvbnRlbnR9IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvaHRtbC9IdG1sVXRpbGl0aWVzLmpzXCI7XG5pbXBvcnQge0J1dHRvbiwgSWNvbn0gZnJvbSBcIkBjb250ZW50bXVuY2gvbXVuY2hlci11aVwiO1xuaW1wb3J0IHtFZGl0b3JTdGF0ZVByb3BzfSBmcm9tIFwiLi4vLi4vTXVuY2hlclwiO1xuXG5leHBvcnQgY29uc3QgVG9nZ2xlQ29kZUNvbnRyb2w6IFJlYWN0LkZDPFRvZ2dsZUNvZGVDb250cm9sUHJvcHM+ID0gKFxuICAgIHtcbiAgICAgICAgaXNDb2RlVmlldywgc2V0SXNDb2RlVmlldyxcbiAgICAgICAgaHRtbCwgZWRpdG9yU3RhdGUsIHNldEVkaXRvclN0YXRlXG4gICAgfSkgPT4ge1xuICAgIGNvbnN0IHRvZ2dsZUNvZGVWaWV3ID0gKCkgPT4ge1xuICAgICAgICBpZiAoaXNDb2RlVmlldykge1xuICAgICAgICAgICAgc2V0RWRpdG9yU3RhdGUoRWRpdG9yU3RhdGUucHVzaChlZGl0b3JTdGF0ZSwgY29udmVydEh0bWxUb0NvbnRlbnQoaHRtbCksICdjaGFuZ2UtYmxvY2stZGF0YScpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0SXNDb2RlVmlldykge1xuICAgICAgICAgICAgc2V0SXNDb2RlVmlldyghaXNDb2RlVmlldyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICAgIDxCdXR0b24gdGl0bGU9e2lzQ29kZVZpZXcgPyBcIkVkaXRvciBWaWV3XCIgOiBcIkh0bWwgVmlld1wifSBvbk1vdXNlRG93bj17dG9nZ2xlQ29kZVZpZXd9IHNpemU9XCJzbWFsbFwiPlxuICAgICAgICAgICAgPEljb24gbmFtZT17aXNDb2RlVmlldyA/ICdlZGl0JyA6ICdjb2RlJ30vPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRvZ2dsZUNvZGVDb250cm9sUHJvcHMgZXh0ZW5kcyBFZGl0b3JTdGF0ZVByb3BzIHtcbiAgICBpc0NvZGVWaWV3PzogYm9vbGVhbjtcbiAgICBzZXRJc0NvZGVWaWV3PzogKGNvZGVWaWV3OiBib29sZWFuKSA9PiB2b2lkO1xuICAgIGh0bWw/OiBzdHJpbmc7XG59Il19