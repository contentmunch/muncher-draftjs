"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UnlinkControl = void 0;

var _react = _interopRequireDefault(require("react"));

var _draftJs = require("draft-js");

var _DraftUtilities = require("../../utilities/draft/DraftUtilities");

var _muncherUi = require("@contentmunch/muncher-ui");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UnlinkControl = function UnlinkControl(_ref) {
  var editorState = _ref.editorState,
      setEditorState = _ref.setEditorState;
  var selection = editorState.getSelection();
  var selectionEntity = (0, _DraftUtilities.entityFromSelection)(editorState);

  var removeLink = function removeLink(e) {
    e.preventDefault();
    setEditorState(_draftJs.RichUtils.toggleLink(editorState, selection, null));
  };

  return /*#__PURE__*/_react.default.createElement(_muncherUi.Button, {
    title: "Remove a link",
    onMouseDown: removeLink,
    size: "small",
    disabled: (selectionEntity === null || selectionEntity === void 0 ? void 0 : selectionEntity.getType) !== 'LINK'
  }, /*#__PURE__*/_react.default.createElement(_muncherUi.Icon, {
    name: "unlink"
  }));
};

exports.UnlinkControl = UnlinkControl;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb250cm9scy9saW5rL1VubGlua0NvbnRyb2wudHN4Il0sIm5hbWVzIjpbIlVubGlua0NvbnRyb2wiLCJlZGl0b3JTdGF0ZSIsInNldEVkaXRvclN0YXRlIiwic2VsZWN0aW9uIiwiZ2V0U2VsZWN0aW9uIiwic2VsZWN0aW9uRW50aXR5IiwicmVtb3ZlTGluayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIlJpY2hVdGlscyIsInRvZ2dsZUxpbmsiLCJnZXRUeXBlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFHTyxJQUFNQSxhQUF5QyxHQUFHLFNBQTVDQSxhQUE0QyxPQUFtQztBQUFBLE1BQWpDQyxXQUFpQyxRQUFqQ0EsV0FBaUM7QUFBQSxNQUFwQkMsY0FBb0IsUUFBcEJBLGNBQW9CO0FBQ3hGLE1BQU1DLFNBQVMsR0FBR0YsV0FBVyxDQUFDRyxZQUFaLEVBQWxCO0FBQ0EsTUFBTUMsZUFBZSxHQUFHLHlDQUFvQkosV0FBcEIsQ0FBeEI7O0FBQ0EsTUFBTUssVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBQ0MsQ0FBRCxFQUF5QjtBQUN4Q0EsSUFBQUEsQ0FBQyxDQUFDQyxjQUFGO0FBQ0FOLElBQUFBLGNBQWMsQ0FBQ08sbUJBQVVDLFVBQVYsQ0FBcUJULFdBQXJCLEVBQWtDRSxTQUFsQyxFQUE2QyxJQUE3QyxDQUFELENBQWQ7QUFDSCxHQUhEOztBQUlBLHNCQUNJLDZCQUFDLGlCQUFEO0FBQVEsSUFBQSxLQUFLLEVBQUMsZUFBZDtBQUE4QixJQUFBLFdBQVcsRUFBRUcsVUFBM0M7QUFBdUQsSUFBQSxJQUFJLEVBQUMsT0FBNUQ7QUFDUSxJQUFBLFFBQVEsRUFBRSxDQUFBRCxlQUFlLFNBQWYsSUFBQUEsZUFBZSxXQUFmLFlBQUFBLGVBQWUsQ0FBRU0sT0FBakIsTUFBNkI7QUFEL0Msa0JBRUksNkJBQUMsZUFBRDtBQUFNLElBQUEsSUFBSSxFQUFDO0FBQVgsSUFGSixDQURKO0FBTUgsQ0FiTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7UmljaFV0aWxzfSBmcm9tICdkcmFmdC1qcyc7XG5pbXBvcnQge2VudGl0eUZyb21TZWxlY3Rpb259IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvZHJhZnQvRHJhZnRVdGlsaXRpZXNcIjtcbmltcG9ydCB7QnV0dG9uLCBJY29ufSBmcm9tIFwiQGNvbnRlbnRtdW5jaC9tdW5jaGVyLXVpXCI7XG5pbXBvcnQge0VkaXRvclN0YXRlUHJvcHN9IGZyb20gXCIuLi8uLi9NdW5jaGVyXCI7XG5cbmV4cG9ydCBjb25zdCBVbmxpbmtDb250cm9sOiBSZWFjdC5GQzxFZGl0b3JTdGF0ZVByb3BzPiA9ICh7ZWRpdG9yU3RhdGUsIHNldEVkaXRvclN0YXRlfSkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvclN0YXRlLmdldFNlbGVjdGlvbigpO1xuICAgIGNvbnN0IHNlbGVjdGlvbkVudGl0eSA9IGVudGl0eUZyb21TZWxlY3Rpb24oZWRpdG9yU3RhdGUpO1xuICAgIGNvbnN0IHJlbW92ZUxpbmsgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHNldEVkaXRvclN0YXRlKFJpY2hVdGlscy50b2dnbGVMaW5rKGVkaXRvclN0YXRlLCBzZWxlY3Rpb24sIG51bGwpKTtcbiAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICAgIDxCdXR0b24gdGl0bGU9XCJSZW1vdmUgYSBsaW5rXCIgb25Nb3VzZURvd249e3JlbW92ZUxpbmt9IHNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NlbGVjdGlvbkVudGl0eT8uZ2V0VHlwZSAhPT0gJ0xJTksnfT5cbiAgICAgICAgICAgIDxJY29uIG5hbWU9XCJ1bmxpbmtcIi8+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICk7XG59Il19